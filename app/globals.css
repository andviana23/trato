@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Altura padrão de um slot de 10 minutos no grid da agenda */
  /* 31px por 10 minutos para alinhamento visual exato */
  --slot-10m: 31px;
  
  /* Cores específicas da agenda para modo light */
  --agenda-bg: 0 0% 100%;
  --agenda-card-bg: 0 0% 100%;
  --agenda-border: 214.3 31.8% 91.4%;
  --agenda-text: 222.2 84% 4.9%;
  --agenda-text-muted: 215.4 16.3% 46.9%;
  --agenda-grid-line: 214.3 31.8% 91.4%;
  --agenda-grid-line-strong: 214.3 31.8% 91.4%;
  --agenda-zebra: 210 40% 96.1%;
}

/* Tokens base (shadcn) */
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.75rem;
  }
  .dark {
    /* Base dark: #0F1115 */
    --background: 220 16% 7%; /* approx hsl for #0F1115 */
    --foreground: 218 25% 97%; /* #F5F6F8 */

    /* Superfícies */
    --card: 220 16% 7%;        /* igual base */
    --card-foreground: 218 25% 97%;
    --popover: 220 16% 7%;
    --popover-foreground: 218 25% 97%;

    /* Acentos/primários preservados do tema atual */
    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 0 0% 100%;

    /* Camadas secundárias levemente mais claras que a base (ex.: #14171C) */
    --secondary: 220 15% 9%;
    --secondary-foreground: 218 25% 97%;
    --muted: 220 15% 9%;
    --muted-foreground: 218 9% 65%; /* ~#A4A7AE */
    --accent: 220 15% 9%;
    --accent-foreground: 218 25% 97%;

    /* Destructive/ring/border ajustados para contraste suave */
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 220 14% 12%;   /* ~#1C1F25 */
    --input: 220 14% 12%;
    --ring: 224 76% 48%;
    
    /* Cores específicas da agenda para modo dark */
    --agenda-bg: 220 16% 7%; /* #0F1115 */
    --agenda-card-bg: 220 16% 7%;
    --agenda-border: 220 14% 12%; /* #1C1F25 */
    --agenda-text: 218 25% 97%; /* #F5F6F8 */
    --agenda-text-muted: 218 9% 65%; /* #A4A7AE */
    --agenda-grid-line: 220 14% 12%;
    --agenda-grid-line-strong: 220 14% 12%;
    --agenda-zebra: 220 15% 9%;
  }
  * { @apply border-border; }
  body { @apply bg-background text-foreground; }
}

/* Ajustes globais */
html, body { min-height: 100%; }

.sidebar-item-active::before,
.sidebar-item-active::after,
nav [class*='sidebar'] a::before,
nav [class*='sidebar'] a::after,
nav [class*='sidebar'] button::before,
nav [class*='sidebar'] button::after,
nav [class*='sidebar'] a:hover::before,
nav [class*='sidebar'] a:hover::after,
nav [class*='sidebar'] button:hover::before,
nav [class*='sidebar'] button:hover::after,
nav [class*='sidebar'] a:active::before,
nav [class*='sidebar'] a:active::after,
nav [class*='sidebar'] button:active::before,
nav [class*='sidebar'] button:active::after,
nav [class*='sidebar'] .group:hover::before,
nav [class*='sidebar'] .group:hover::after {
  display: none !important;
  content: none !important;
  box-shadow: none !important;
  background: none !important;
  border: none !important;
}

.sidebar-menu {
  overflow-y: auto !important;
  max-height: 100vh !important;
  min-height: 0 !important;
  scrollbar-width: thin;
  scrollbar-color: #bcd0fa #f7faff;
}
.sidebar-menu::-webkit-scrollbar {
  width: 8px;
  background: #f7faff;
}
.sidebar-menu::-webkit-scrollbar-thumb {
  background: #bcd0fa;
  border-radius: 8px;
}

/* RBC Tailwind overrides para grade premium */
.rbc-tailwind .rbc-time-view .rbc-time-gutter .rbc-timeslot-group { border-color: rgba(0,0,0,.06); }
.rbc-tailwind .rbc-time-content > * + * > * { border-left: 1px solid rgba(0,0,0,.06); }
.rbc-tailwind .rbc-time-header { border-bottom: 1px solid rgba(0,0,0,.08); }
.rbc-tailwind .rbc-time-view { font-size: 13px; }
.rbc-tailwind .rbc-event { box-shadow: none; }
.rbc-tailwind .rbc-today { background-color: rgba(59,130,246,.06); }

/* fim */
